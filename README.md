# メールアプリ FUMI

高齢者向けのメールアプリです。
実際に Gmail と同期することができ、メールの送受信・転送・削除等も行うことができます。

## 機能

- ログイン/新規登録画面

新規登録の場合、名前・メールアドレス・パスワード・アイコンの登録を行います。
ログインの場合は、メールアドレスとパスワードを入力します。
パスワードはセキュリティのため、hash 化しています。

- ホーム画面

受信トレイ・新規メール・送信済み・ゴミ箱・ことり日記・設定のボタンがあります。
また、Gmail 連携ボタンで Google のアカウント認証を行うことで、実際にメールの送受信等ができるようになり、
最新の Gmail を取得ボタンで最新のメールを取得することができます。

- 受信トレイ

最新のメール 15 件を取得し、表示します(全件取得すると高額課金の可能性があったため、15 件に絞りました)。
各メールをタップするとメール詳細を見ることができ、実際に返信・転送・削除できます。
また、メール本文の読み上げ・要約機能・返信文の AI 作成機能を利用することができます。

さらに、メール一覧を表示するページで迷惑メールの恐れがあるメールほど赤く表示させる機能も搭載しました。
これにより、フィッシング詐欺・架空請求等の怪しいメールを一目でわかるようにしました。

- 新規メール

新規メールのボタンを押すと、新規メール作成と下書き一覧に飛ぶページが表示されます。
新規メール作成ボタンを押すと、新規メールの送信・下書き保存等ができます。また、AI アシスト機能で、
メールの文明の提案等をしてくれます。
下書き一覧には、今までに下書き保存したメールの一覧が表示され、下書きの更新や送信、破棄ができます。

- 送信済みトレイ

送信済みメールのボタンを押すと、ユーザーが送信したメール一覧を取得することができます。
追加メールの送信や転送等ができます。機能は受信トレイと同様、AI アシスト機能等がついています。

- ゴミ箱

削除したメール一覧が表示されています。
受信トレイ同様、AI アシスト機能等がついています。

- ことり日記

ことり日記ボタンを押すと、ことり日記をつけるボタンとことりの成長を見るボタンが表示されます。
ことり日記をつける画面では、その日の体調・睡眠時間・ひとこと日記等を記入できます。
記入を終えて送信ボタンを押すと、予め設定画面で登録していた家族宛に、その内容とその日ユーザが受け取った迷惑メール件数のサマリが
送信されるようになります。これで、ユーザの家族は高齢者の毎日の細かな体調変化や危険なメールを受信していないか見守ることができます。

また、ことりの成長を見るボタンでは、日記の記入を継続するとことりが成長する機能を付け、高齢者の「ことり日記」の継続率を高める工夫をしました。
また、この画面で過去の日記を振り返ることもできます。

- 設定

アカウント情報/ログインパスワードの変更が行えます。
また、ことり日記の報告先メールアドレスの変更もできます。
ログアウトも行うことができ、ログアウトをするとログイン画面に遷移します。

※詳しくは、pdf 番の README.pdf とデモ動画(demo.mp4)をご覧ください

## ローカル開発環境構築

### 1. .env ファイル作成

プロジェクトルートに`.env.example`ファイルを参考に`.env`ファイルを作成してください。

### 2. Python パッケージのインストール

プロジェクトルートで以下を実行する

```bash
pip install -r requirements.txt
```

### 3. frontend で node_modules をインストール

```bash
cd frontend
npm install
cd ..
```

## 実行方法

以下のうち、いずれかお好きな方法で起動することができます。

- 一番確実な方法

プロジェクトルートにおいて、

```bash
uvicorn backend.main:app --reload --host 127.0.0.1 --port 8000
```

さらにプロジェクトルートにおいて、

```bash
cd frontend
npm run dev
```

- Windows 環境

プロジェクトルートで

```bash
start start_all.bat
```

もしくはプロジェクトルートにある start_all.bat をダブルクリック
